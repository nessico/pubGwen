(self.webpackChunkclient=self.webpackChunkclient||[]).push([[281],{9281:(e,r,t)=>{"use strict";t.r(r),t.d(r,{OrdersModule:()=>q});var s=t(5425),o=t(7368),i=t(2693),n=t(529),a=t(9996);let d=(()=>{class e{constructor(e){this.http=e,this.baseUrl=n.N.apiUrl}getOrders(e){let r=new i.LE;return r=r.append("pageIndex",e.pageIndex.toString()),r=r.append("pageSize",e.pageSize.toString()),this.http.get(this.baseUrl+"orders",{observe:"response",params:r}).pipe((0,a.U)(e=>e.body))}getOrderDetailed(e){return this.http.get(this.baseUrl+"orders/"+e)}}return e.\u0275fac=function(r){return new(r||e)(o.LFG(i.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=t(9497),c=t(1630),g=t(1202),l=t(4040);let u=(()=>{class e{constructor(e,r,t){this.orderService=e,this.route=r,this.bcService=t}ngOnInit(){this.getOrderDetailed()}getOrderDetailed(){this.orderService.getOrderDetailed(+this.route.snapshot.paramMap.get("id")).subscribe(e=>{this.order=e,this.bcService.set("@orderDetailed",`#${this.order.id} - ${this.order.status}`)},e=>{console.log(e)})}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(d),o.Y36(p.gz),o.Y36(c.pm))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-order-detailed"]],decls:6,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-9","py-4","mb-1","mt-3"],[3,"isBasket","isOrder","items"],[1,"col-md-3","py-5","mb-1"],[3,"shipping","subtotal","total"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"app-basket-summary",3),o.qZA(),o.TgZ(4,"div",4),o._UZ(5,"app-order-summary",5),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("isBasket",!1)("isOrder",!0)("items",r.order.orderItems),o.xp6(2),o.Q6J("shipping",r.order.shippingPrice)("subtotal",r.order.subtotal)("total",r.order.total))},directives:[g.b,l.h],styles:[""]}),e})();var h=t(666),Z=t(1116),m=t(2217);function f(e,r){1&e&&(o.TgZ(0,"h5"),o._uU(1,"You haven 0 orders"),o.qZA())}function A(e,r){if(1&e&&(o.TgZ(0,"a",16),o._UZ(1,"img",17),o.qZA()),2&e){const e=r.$implicit;o.MGl("routerLink","/shop/",e.id,""),o.xp6(1),o.s9C("src",e.pictureUrl,o.LSH),o.s9C("alt",e.productName)}}function b(e,r){if(1&e&&(o.TgZ(0,"ul",9),o.TgZ(1,"div",10),o.TgZ(2,"div",11),o.TgZ(3,"h5"),o._uU(4),o.qZA(),o.TgZ(5,"li"),o.TgZ(6,"strong"),o._uU(7,"Order Number"),o.qZA(),o._uU(8),o.qZA(),o.TgZ(9,"li"),o.TgZ(10,"strong"),o._uU(11,"Date Ordered"),o.qZA(),o._uU(12),o.ALo(13,"date"),o.qZA(),o.TgZ(14,"li"),o.TgZ(15,"strong"),o._uU(16,"Order Total"),o.qZA(),o._uU(17),o.ALo(18,"currency"),o.qZA(),o.TgZ(19,"li"),o.TgZ(20,"strong"),o._uU(21,"Ship To"),o.qZA(),o._uU(22),o.qZA(),o.TgZ(23,"div",12),o.TgZ(24,"a",13),o._uU(25," View order details "),o.qZA(),o.qZA(),o.qZA(),o._UZ(26,"div",14),o.TgZ(27,"div",11),o.YNc(28,A,2,3,"a",15),o.qZA(),o.qZA(),o.qZA()),2&e){const e=r.$implicit;o.xp6(4),o.Oqu(e.status),o.xp6(4),o.hij(" #",e.id,""),o.xp6(4),o.hij(" ",o.lcZ(13,8,e.orderDate)," "),o.xp6(5),o.hij(" ",o.lcZ(18,10,e.total),""),o.xp6(5),o.AsE(" ",e.shipToAddress.firstName," ",e.shipToAddress.lastName," "),o.xp6(2),o.MGl("routerLink","/orders/",e.id,""),o.xp6(4),o.Q6J("ngForOf",e.orderItems)}}const T=[{path:"",component:(()=>{class e{constructor(e){this.orderService=e,this.shopParams=new h.E}ngOnInit(){this.getOrders()}getOrders(){this.orderService.getOrders(this.shopParams).subscribe(e=>{this.orders=e.data,this.shopParams.pageIndex=e.pageIndex,this.shopParams.pageSize=e.pageSize,this.totalCount=e.count},e=>{console.log(e)})}onPageChanged(e){this.shopParams.pageIndex!==e&&(this.shopParams.pageIndex=e,this.getOrders())}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(d))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-orders"]],decls:10,vars:4,consts:[[1,"container"],[1,"row","row-cols-md-auto"],[1,"col-md-12"],[1,"border-bottom","pb-3"],[4,"ngIf"],[1,"list","list-group-flush","mt-3"],["class","border-bottom py-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","my-3"],[3,"pageSize","totalCount","pageChanged"],[1,"border-bottom","py-3"],[1,"row"],[1,"col-md-5"],[1,"d-grid"],[1,"btn","btn-outline-primary","mt-3",3,"routerLink"],[1,"col-md-1"],["style","cursor: pointer",3,"routerLink",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"],[1,"img-fluid",2,"max-height","125px",3,"src","alt"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h4",3),o._uU(4,"Order History"),o.qZA(),o.YNc(5,f,2,0,"h5",4),o.TgZ(6,"ul",5),o.YNc(7,b,29,12,"ul",6),o.qZA(),o.TgZ(8,"div",7),o.TgZ(9,"app-pager",8),o.NdJ("pageChanged",function(e){return r.onPageChanged(e)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Q6J("ngIf",0===(null==r.orders?null:r.orders.length)),o.xp6(2),o.Q6J("ngForOf",r.orders),o.xp6(2),o.Q6J("pageSize",r.shopParams.pageSize)("totalCount",r.totalCount))},directives:[Z.O5,Z.sg,m.P,p.yS],pipes:[Z.uU,Z.H9],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}"]}),e})()},{path:":id",component:u,data:{breadcrumb:{alias:"orderDetailed"}}}];let v=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Z.ez,p.Bz.forChild(T)],p.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Z.ez,v,s.m]]}),e})()}}]);